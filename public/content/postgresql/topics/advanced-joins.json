{
  "id": "advanced-joins",
  "title": "JOINS (Very Important)",
  "description": "Combine data from multiple tables using INNER JOIN, LEFT JOIN, and handle complex queries with multiple relationships.",
  "code": "-- Get orders with user details\nSELECT o.*, u.name, u.email \nFROM orders o\nJOIN users u ON u.id = o.user_id;\n\n-- Get order items with product details\nSELECT oi.*, p.name, p.sku, p.price \nFROM order_items oi\nJOIN products p ON p.id = oi.product_id;\n\n-- Get cart items with product info\nSELECT ci.*, p.name, p.price, p.stock_quantity \nFROM cart_items ci\nJOIN products p ON p.id = ci.product_id;\n\n-- Get payment info along with order_number\nSELECT pay.*, o.order_number, o.total_amount \nFROM payments pay\nJOIN orders o ON o.id = pay.order_id;\n\n-- Get return details with user email\nSELECT r.*, u.email, u.name \nFROM returns r\nJOIN orders o ON o.id = r.order_id\nJOIN users u ON u.id = o.user_id;",
  "example": "-- Get orders with payment status\nSELECT o.order_number, o.total_amount, \n       COALESCE(p.status, 'pending') AS payment_status \nFROM orders o\nLEFT JOIN payments p ON p.order_id = o.id;\n\n-- Get users who never placed an order\nSELECT u.* \nFROM users u\nLEFT JOIN orders o ON o.user_id = u.id\nWHERE o.id IS NULL;\n\n-- Get products never ordered\nSELECT p.* \nFROM products p\nLEFT JOIN order_items oi ON oi.product_id = p.id\nWHERE oi.id IS NULL;\n\n-- Get users with more than 2 orders\nSELECT u.id, u.name, u.email, COUNT(o.id) AS order_count \nFROM users u\nJOIN orders o ON o.user_id = u.id\nGROUP BY u.id, u.name, u.email\nHAVING COUNT(o.id) > 2;\n\n-- Get most purchased product\nSELECT p.id, p.name, SUM(oi.quantity) AS total_sold \nFROM products p\nJOIN order_items oi ON oi.product_id = p.id\nJOIN orders o ON o.id = oi.order_id\nWHERE o.status = 'completed'\nGROUP BY p.id, p.name\nORDER BY total_sold DESC\nLIMIT 1;\n\n-- Get users who have items in cart but no orders\nSELECT DISTINCT u.* \nFROM users u\nJOIN carts c ON c.user_id = u.id\nJOIN cart_items ci ON ci.cart_id = c.id\nLEFT JOIN orders o ON o.user_id = u.id\nWHERE o.id IS NULL;\n\n-- Get total cart value per user\nSELECT u.id, u.name, SUM(ci.quantity * p.price) AS cart_value \nFROM users u\nJOIN carts c ON c.user_id = u.id\nJOIN cart_items ci ON ci.cart_id = c.id\nJOIN products p ON p.id = ci.product_id\nGROUP BY u.id, u.name;",
  "useCase": "Combining data from multiple tables, finding relationships, complex business queries, reporting",
  "category": "Advanced Queries"
}
